<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PE100 Fiyat Hesap</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50">
  <div class="max-w-5xl mx-auto p-6 space-y-6">
    <header class="flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-semibold">PE100 Fiyat Hesap</h1>
        <p class="text-slate-600">Ürün seç, metre, USD/kg ve kuru gir → çıktı: <b>Toplam kg</b> ve <b>KDV Hariç Toplam</b>.</p>
      </div>
    </header>

    <!-- Hesap Kutusu -->
    <section class="bg-white rounded-2xl shadow p-4 grid md:grid-cols-2 gap-6">
      <div class="space-y-3">
        <div>
          <label class="block text-sm text-slate-600">DN</label>
          <input type="number" id="inpDn" class="w-full border rounded-xl p-2" value="110">
        </div>
        <div>
          <label class="block text-sm text-slate-600">PN</label>
          <select id="selPn" class="w-full border rounded-xl p-2">
            <option value="4">PN4</option>
            <option value="5">PN5</option>
            <option value="6">PN6</option>
            <option value="8">PN8</option>
            <option value="10" selected>PN10</option>
            <option value="12.5">PN12.5</option>
            <option value="16">PN16</option>
            <option value="20">PN20</option>
            <option value="25">PN25</option>
          </select>
        </div>
        <div>
          <label class="block text-sm text-slate-600">Uzunluk (metre)</label>
          <input type="number" id="inpMeters" class="w-full border rounded-xl p-2" value="100">
        </div>
        <div>
          <label class="block text-sm text-slate-600">Fiyat (USD/kg)</label>
          <input type="number" step="0.01" id="inpUsdKg" class="w-full border rounded-xl p-2" value="1,90">
        </div>
        <div>
          <label class="block text-sm text-slate-600">Kur (USD → TL)</label>
          <input type="number" step="0.01" id="inpUsdTry" class="w-full border rounded-xl p-2" value="41,5">
        </div>
      </div>

      <div class="space-y-3">
        <div class="p-4 rounded-xl bg-slate-50">
          <div class="text-slate-600 text-sm">KG/MT</div>
          <div id="outKgMt" class="text-2xl font-semibold">—</div>
        </div>
        <div class="p-4 rounded-xl bg-slate-50">
          <div class="text-slate-600 text-sm">Toplam Ağırlık</div>
          <div class="text-2xl font-semibold"><span id="outNetKg">0</span> kg</div>
        </div>
        <div class="p-4 rounded-xl bg-slate-50">
          <div class="text-slate-600 text-sm">KDV Hariç Toplam</div>
          <div id="outTotal" class="text-2xl font-semibold">₺0,00</div>
        </div>
      </div>
    </section>
  </div>

<script>
  // Örnek kg/metre tablosu
  const kgTable = {
  20:  {16: 0.11, 20: 0.13, 25: 0.16},
  25:  {10: 0.14, 12.5: 0.14, 16: 0.17, 20: 0.21, 25: 0.24},
  32:  {10: 0.19, 12.5: 0.22, 16: 0.27, 20: 0.32, 25: 0.38},
  40:  {8: 0.24, 10: 0.28, 12.5: 0.35, 16: 0.42, 20: 0.50, 25: 0.60},
  50:  {6: 0.30, 8: 0.36, 10: 0.44, 12.5: 0.54, 16: 0.66, 20: 0.78, 25: 0.94},
  63:  {5: 0.38, 6: 0.48, 8: 0.57, 10: 0.71, 12.5: 0.86, 16: 1.05, 20: 1.25, 25: 1.47},
  75:  {4: 0.46, 5: 0.53, 6: 0.66, 8: 0.81, 10: 1.00, 12.5: 1.22, 16: 1.46, 20: 1.76, 25: 2.10},
  90:  {4: 0.64, 5: 0.77, 6: 0.95, 8: 1.16, 10: 1.44, 12.5: 1.76, 16: 2.11, 20: 2.54, 25: 3.01},
  110: {4: 0.91, 5: 1.14, 6: 1.41, 8: 1.75, 10: 2.15, 12.5: 2.60, 16: 3.15, 20: 3.79, 25: 4.51},
  125: {4: 1.19, 5: 1.49, 6: 1.82, 8: 2.25, 10: 2.74, 12.5: 3.36, 16: 4.08, 20: 4.90, 25: 5.81},
  140: {4: 1.51, 5: 1.84, 6: 2.30, 8: 2.81, 10: 3.44, 12.5: 4.21, 16: 5.09, 20: 6.15, 25: 7.31},
  160: {4: 1.97, 5: 2.39, 6: 3.01, 8: 3.69, 10: 4.50, 12.5: 5.51, 16: 6.69, 20: 8.01, 25: 9.53},
  180: {4: 2.43, 5: 3.02, 6: 3.78, 8: 4.64, 10: 5.71, 12.5: 6.98, 16: 8.45, 20: 10.12, 25: 12.04},
  200: {4: 3.01, 5: 3.79, 6: 4.67, 8: 5.76, 10: 7.05, 12.5: 8.58, 16: 10.42, 20: 12.53, 25: 14.90},
  225: {4: 3.80, 5: 4.74, 6: 5.87, 8: 7.29, 10: 8.93, 12.5: 10.90, 16: 13.21, 20: 15.86, 25: 18.84},
  250: {4: 4.76, 5: 5.88, 6: 7.30, 8: 8.93, 10: 10.97, 12.5: 13.42, 16: 16.25, 20: 19.52, 25: 23.25},
  280: {4: 5.94, 5: 7.35, 6: 9.10, 8: 11.25, 10: 13.77, 12.5: 16.83, 16: 20.37, 20: 24.52, 25: 29.16},
  315: {4: 7.45, 5: 9.33, 6: 11.57, 8: 14.18, 10: 17.45, 12.5: 21.33, 16: 25.80, 20: 31.03, 25: 36.92},
  355: {4: 9.49, 5: 11.82, 6: 14.65, 8: 18.00, 10: 22.19, 12.5: 27.04, 16: 32.74, 20: 39.43, 25: 46.83},
  400: {4: 12.05, 5: 15.02, 6: 18.58, 8: 22.92, 10: 28.09, 12.5: 34.32, 16: 41.59, 20: 50.03, 25: 59.50},
  450: {4: 15.21, 5: 18.96, 6: 23.50, 8: 29.02, 10: 35.60, 12.5: 43.47, 16: 52.71, 20: 63.34, 25: 75.27},
  500: {4: 18.90, 5: 23.36, 6: 28.99, 8: 35.85, 10: 44.00, 12.5: 53.70, 16: 65.02, 20: 78.08},
  560: {4: 23.58, 5: 29.41, 6: 36.38, 8: 44.86, 10: 55.10, 12.5: 67.33, 16: 81.49, 20: 97.54},
  630: {4: 29.82, 5: 37.13, 6: 46.10, 8: 56.70, 10: 69.82, 12.5: 85.14, 16: 103.21},
  710: {4: 37.96, 5: 47.26, 6: 58.63, 8: 72.20, 10: 88.58, 12.5: 108.17, 16: 131.16},
  800: {4: 48.19, 5: 59.85, 6: 74.34, 8: 91.45, 10: 112.38, 12.5: 137.30, 16: 166.77},
  };

  function hesapla() {
    const dn = document.getElementById("inpDn").value;
    const pn = document.getElementById("selPn").value;
    const meters = parseFloat(document.getElementById("inpMeters").value) || 0;
    const usdKg = parseFloat(document.getElementById("inpUsdKg").value) || 0;
    const usdTry = parseFloat(document.getElementById("inpUsdTry").value) || 0;

    const kgMt = kgTable[dn]?.[pn] || 0;
    const netKg = kgMt * meters;
    const total = netKg * usdKg * usdTry;

    document.getElementById("outKgMt").textContent = kgMt ? kgMt.toFixed(2) : "Tablo Yok";
    document.getElementById("outNetKg").textContent = netKg.toFixed(2);
    document.getElementById("outTotal").textContent = "₺" + total.toFixed(2);
  }

  document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", hesapla);
    el.addEventListener("change", hesapla);
  });

  hesapla();
</script>
</body>
</html>
